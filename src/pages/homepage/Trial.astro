---
import bg from "./img/trial.webp";
const background = bg.src;
---

<section id="trial" style=`background-image:url("${background}")`>
  <div class="container">
    <div class="content">
      <h2>Get a qoute now</h2>
      <form action="https://api.web3forms.com/submit" method="POST">
        <input
          type="hidden"
          name="access_key"
          value="10c9d345-49f1-4626-8a61-2b182901bd47"
        />

        <input
          id="name"
          type="text"
          name="name"
          required
          placeholder="Full Name"
        />
        <input
          id="email"
          type="email"
          name="email"
          required
          placeholder="Email"
        />
        <div class="h-captcha" data-captcha="true"></div>
        <button class="styled" type="submit">Get qoute</button>
      </form>
      <p class="message">
        Test out our Analytics features for 14 days, no credit card required.
      </p>
    </div>
  </div>
</section>

<style>
  .container {
    padding: 5% 1em;
    color: #fff;

    @media (max-width: 500px) {
      padding: 25% 2em;
    }

    h2 {
      font-size: clamp(20px, 3vw, 30px);
      font-weight: bold;
      text-align: left;
      margin-bottom: 1em;
    }

    .content {
      max-width: 700px;
      margin-right: 0;
      margin-left: auto;
      padding: 10% 0;

      .message {
        max-width: 30em;
        line-height: 1.7em;
        font-size: 14px;
      }

      form {
        margin-bottom: 1em;
        display: flex;
        gap: 10px;
        #name {
          width: 15em;
          border-radius: 30em;
          border: none;
          padding: 10px;
          background-color: #1e1e1e;
          color: #fff;

          @media (max-width: 500px) {
            width: 100%;
            margin-bottom: 1em;
          }
        }

        #email {
          width: 15em;
          border-radius: 30em;
          border: none;
          padding: 10px;
          background-color: #1e1e1e;
          color: #fff;

          @media (max-width: 500px) {
            width: 100%;
            margin-bottom: 1em;
          }
        }

        .styled {
          padding: 10px 25px;
          border-radius: 30em;
          border: none;
          cursor: pointer;
          font-weight: bold;

          @media (max-width: 500px) {
            margin: 0;
          }
        }
      }
    }
  }

  section {
    background-position: center;
    background-repeat: no-repeat;
    background-size: cover;

    &::after {
      content: "";
      position: absolute;
      width: 100%;
      height: 100%;
      top: 0;
      left: 0;
      background: linear-gradient(
        124deg,
        rgba(60, 59, 110, 0) 38%,
        rgba(14, 49, 76, 1) 38%
      );
      z-index: 1;
      opacity: 1;
    }
  }
</style>

<script>
  import gsap from "gsap";
  import ScrollTrigger from "gsap/ScrollTrigger";
  gsap.registerPlugin(ScrollTrigger);
  import { Power3 } from "gsap";

  gsap
    .timeline({
      scrollTrigger: {
        trigger: "#trial",
        start: "top center",
      },
    })
    .fromTo("#trial h2", { y: -10, opacity: 0 }, { y: 0, opacity: 1 })
    .fromTo("form", { y: -10, opacity: 0 }, { y: 0, opacity: 1 })
    .fromTo("#trial p", { y: -10, opacity: 0 }, { y: 0, opacity: 1 });
</script>
